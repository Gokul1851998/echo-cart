<%-include('../admin/layout/admin-header-layout.ejs') -%> 
<div class="container-fluid ml-4" style="min-height: 80vh !important;">
    <div class="row">
         <div class="mb-3">
        <h2 class="section-title position-relative bg-info text-uppercase mb-3 ml-2"><span class=" pr-3 a">Sales report</span></h2>
</div>
        <div class="col-lg-11 col-sm-12">

    <div class="btn-group pl-5 ml-5">

          <a type="button " class="btn btn-outline-info ml-5" href="/admin/saleReport?no=1">Today Sales Report</a>
          <a type="button" class="btn btn-outline-info ml-3" href="/admin/saleReport?no=2">Monthly Sales Report</a>
          <a type="button" class="btn btn-outline-info ml-3" href="/admin/saleReport?no=3">Yearly Sales Report</a>
          <a type="button" class="btn btn-outline-info ml-3" href="/admin/saleReport">Total Sales Report</a>
      </div>

<div class="mt-5" style="overflow-x:auto;">
    <table id="example" class="display nowrap table-bordered text-center" style="width:100%">
        <thead>
            
            <tr>
                <th>Order Id</th>
                <th>Customer</th>
                <th>Place</th>
                <th>Phone No</th>
                <th>Status</th>
                <th>Date</th>
                <th>Amount</th>
            </tr>
        </thead>
        <tbody>
            <% orders.forEach((x) => { %>
            <tr>
                <td><%=x._id%></td>
                <td><%=x.Address.firstName%></td>
                <td><%=x.Address.city%></td>
                <td><%=x.Address.mobileNo%></td>
                <td><%=x.orderStatus%></td>
            
                <td><%=x.createdAt.toLocaleDateString()%></td>
                <td><%=x.totalAmount%></td>
            </tr>
            <% }) %>
            <tr>
                <td class="font-weight-bold">TOTAL</td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td class="font-weight-bold"><%=total%></td>
            </tr>
        </tbody>
    </table>
</div>
</div>
</div>
</div>

<%-include('../admin/layout/admin-footer-layout') -%>
<script src="https://code.jquery.com/jquery-3.5.1.js"></script>
<script src="https://cdn.datatables.net/1.13.1/js/jquery.dataTables.min.js"></script>
<script src="https://cdn.datatables.net/buttons/2.3.2/js/dataTables.buttons.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.1.3/jszip.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.53/pdfmake.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.53/vfs_fonts.js"></script>
<script src="https://cdn.datatables.net/buttons/2.3.2/js/buttons.html5.min.js"></script>
<script src="https://cdn.datatables.net/buttons/2.3.2/js/buttons.print.min.js"></script>


<script>
    $(document).ready(function() {
    $('#example').DataTable( {
        dom: 'Bfrtip',
        buttons: [
            'copy', 'csv', 'excel', 'pdf', 'print'
        ]
    } );
} );
</script>